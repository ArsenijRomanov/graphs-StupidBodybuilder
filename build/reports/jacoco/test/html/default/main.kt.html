<?xml version="1.0" encoding="UTF-8"?><!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"><html xmlns="http://www.w3.org/1999/xhtml" lang="ru"><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8"/><link rel="stylesheet" href="../jacoco-resources/report.css" type="text/css"/><link rel="shortcut icon" href="../jacoco-resources/report.gif" type="image/gif"/><title>main.kt</title><link rel="stylesheet" href="../jacoco-resources/prettify.css" type="text/css"/><script type="text/javascript" src="../jacoco-resources/prettify.js"></script></head><body onload="window['PR_TAB_WIDTH']=4;prettyPrint()"><div class="breadcrumb" id="breadcrumb"><span class="info"><a href="../jacoco-sessions.html" class="el_session">Sessions</a></span><a href="../index.html" class="el_report">graphs-StupidBodybuilder</a> &gt; <a href="index.source.html" class="el_package">default</a> &gt; <span class="el_source">main.kt</span></div><h1>main.kt</h1><pre class="source lang-java linenums">import androidx.compose.desktop.ui.tooling.preview.Preview
import androidx.compose.material.MaterialTheme
import androidx.compose.runtime.Composable
import androidx.compose.ui.window.Window
import androidx.compose.ui.window.application
import model.*
import view.MainScreenForDirected
import view.MainScreenForUndirected
import viewmodel.CircularPlacementStrategy
import viewmodel.MainScreenViewModelForDirectedGraph
import viewmodel.MainScreenViewModelForUndirectedGraph
import saving.loadMainScreenViewModelFromJson
import view.homeScreen
import viewmodel.MainScreenViewModel
import cafe.adriel.voyager.core.screen.Screen
import cafe.adriel.voyager.core.screen.ScreenKey
import cafe.adriel.voyager.navigator.LocalNavigator
import cafe.adriel.voyager.navigator.Navigator
import cafe.adriel.voyager.navigator.currentOrThrow
import saving.GraphRepository
import saving.saveToJson
import viewmodel.ForceAtlas2Layout
import java.sql.DriverManager

<span class="nc" id="L25">class FirstScreen() : Screen {</span>
<span class="nc" id="L26">    override val key: ScreenKey = &quot;FirstScreen&quot;</span>

    @Composable
<span class="nc bnc" id="L29" title="All 6 branches missed.">    override fun Content() {</span>
<span class="nc bnc" id="L30" title="All 2 branches missed.">        homeScreen()</span>
<span class="nc bnc" id="L31" title="All 2 branches missed.">    }</span>
}

<span class="nc" id="L34">data class GraphScreen(val mainScreenViewModel: MainScreenViewModel) : Screen {</span>
    @Composable
<span class="nc bnc" id="L36" title="All 12 branches missed.">    override fun Content() {</span>
<span class="nc bnc" id="L37" title="All 2 branches missed.">        if(mainScreenViewModel is MainScreenViewModelForDirectedGraph){</span>
<span class="nc" id="L38">            MainScreenForDirected(mainScreenViewModel)</span>
        }
<span class="nc bnc" id="L40" title="All 2 branches missed.">        if(mainScreenViewModel is MainScreenViewModelForUndirectedGraph){</span>
<span class="nc bnc" id="L41" title="All 2 branches missed.">            MainScreenForUndirected(mainScreenViewModel)</span>
        }
<span class="nc bnc" id="L43" title="All 2 branches missed.">    }</span>
}

@Composable
@Preview
<span class="nc bnc" id="L48" title="All 6 branches missed.">fun App() {</span>
<span class="nc bnc" id="L49" title="All 2 branches missed.">    MaterialTheme {</span>
<span class="nc bnc" id="L50" title="All 8 branches missed.">        Navigator(FirstScreen())</span>
<span class="nc" id="L51">    }</span>
<span class="nc bnc" id="L52" title="All 2 branches missed.">}</span>

fun main() =
<span class="nc" id="L55">    application {</span>
<span class="nc bnc" id="L56" title="All 10 branches missed.">        Window(onCloseRequest = ::exitApplication) {</span>
<span class="nc bnc" id="L57" title="All 8 branches missed.">            App()</span>
<span class="nc" id="L58">        }</span>
<span class="nc" id="L59">    }</span>



//fun main(){
//    val viewModel1 = loadMainScreenViewModelFromJson(
//        &quot;/home/ars/graphs-StupidBodybuilder/examples/bigGraph.json&quot;,
//        ForceAtlas2Layout()
//    ) ?: return
//
//    val viewModel2 = loadMainScreenViewModelFromJson(
//        &quot;/home/ars/graphs-StupidBodybuilder/examples/graph.json&quot;,
//        ForceAtlas2Layout()
//    ) ?: return
//
//    val viewModel3 = loadMainScreenViewModelFromJson(
//        &quot;/home/ars/graphs-StupidBodybuilder/examples/people.json&quot;,
//        ForceAtlas2Layout()
//    ) ?: return
//    val connection = DriverManager.getConnection(&quot;jdbc:sqlite:sampleDB.db&quot;)
//    val repo = GraphRepository(connection)
//
//    repo.addGraph(
//        viewModel1.graphViewModel,
//        &quot;big graph&quot;,
//        viewModel1 is MainScreenViewModelForDirectedGraph
//        )
//
//    repo.addGraph(
//        viewModel2.graphViewModel,
//        &quot;common graph&quot;,
//        viewModel2 is MainScreenViewModelForDirectedGraph
//    )
//
//    repo.addGraph(
//        viewModel3.graphViewModel,
//        &quot;people&quot;,
//        viewModel3 is MainScreenViewModelForDirectedGraph
//    )
//
//    repo.close()
//}



</pre><div class="footer"><span class="right">Created with <a href="http://www.jacoco.org/jacoco">JaCoCo</a> 0.8.10.202304240956</span></div></body></html>